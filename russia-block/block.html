<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>俄罗斯方块</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <style>
        *{margin:0;padding:0;}
        #canvas{
            background-color: #000;
            margin:50px auto;
            display:block;
        }
    </style>
</head>
<body>
    <canvas  id="canvas" width="504" height="504">您的浏览器不支持canvas</canvas>
    <script>
        var canvas = document.getElementById('canvas');
        //创建2d绘制环境
        var gc = canvas.getContext('2d');
        //填充颜色
        // gc.fillStyle = 'red';
        //填充边框
        // gc.strokeStyle = 'blue';
        // 绘制方块
        // gc.fillRect(100,100,200,200);
        var r = 12;
        var c = 12;
        var data = map(r,c);
        // data[0][5] = 1;
        // data[0][6] = 1;
        // data[1][5] = 1;
        // data[1][6] = 1;
        render(r,c,gc);

        // method = {
        //     s:[
        //         [1,1,1,1]
        //     ],
        //     b:[
        //         [1,1],
        //         [1,1]
        //     ],
        //     z: [
        //         [1,1,0],
        //         [0,1,1]
        //     ],
        //     z1:[
        //         [0,1,1],
        //         [1,1,0]
        //     ],
        //     t:[
        //         [0,1,0],
        //         [1,1,1]
        //     ],
        //     l:[
        //         [1,0,0],
        //         [1,1,1]
        //     ],
        //     l1:[
        //         [0,0,1],
        //         [1,1,1]
        //     ]
        // }
        method = [
            [
                [1,1,1,1]
            ],
            [
                [1,1],
                [1,1]
            ],
            [
                [1,1,0],
                [0,1,1]
            ],
            [
                [0,1,1],
                [1,1,0]
            ],
            [
                [0,1,0],
                [1,1,1]
            ],
            [
                [1,0,0],
                [1,1,1]
            ],
            [
                [0,0,1],
                [1,1,1]
            ]
        ];
        function update(){
             var arr = mold();
            for(var i=0;i<arr.length;i++){
                for(var j=0;j<arr[i].length;j++){
                    data[i][j+4] = arr[i][j];
                }
            } 
            // console.log(arr)
            //更新地图  
            render(r,c,gc)
        }
        update()
        //生成不同方块
        function mold(){
            var num = Math.floor(Math.random()*7);

            return method[num];
        }
        //创建地图
        function render(r,c,gc){
            for(var i=0;i<r;i++){
                for(var j=0;j<c;j++){
                    gc.fillStyle = data[i][j] ==0?'#6a3456':'#556432';
                    //0 0  10 10 40 10
                    //0 1  40 10 
                    gc.fillRect(j*42+3,i*42+3,36,36);
                }
            }
        } 
        //创建地图数据
        function map(r,c){
            var data = [];
            for(var i=0;i<r;i++){
                data.push([]);
                for(var j=0;j<c;j++){
                    data[i][j]=0;
                }
            }
            return data;
        }
        
    </script>
</body>
</html>